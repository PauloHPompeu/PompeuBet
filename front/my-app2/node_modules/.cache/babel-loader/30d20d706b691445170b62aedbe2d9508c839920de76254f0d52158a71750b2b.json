{"ast":null,"code":"'use client';\n\nimport { useState, useCallback } from 'react';\nfunction getInitialState(initialState, data, value, acc = {}) {\n  data.forEach(node => {\n    acc[node.value] = node.value in initialState ? initialState[node.value] : node.value === value;\n    if (Array.isArray(node.children)) {\n      getInitialState(initialState, node.children, value, acc);\n    }\n  });\n  return acc;\n}\nfunction useTree({\n  initialSelectedState = [],\n  initialExpandedState = {},\n  multiple = false\n} = {}) {\n  const [expandedState, setExpandedState] = useState(initialExpandedState);\n  const [selectedState, setSelectedState] = useState(initialSelectedState);\n  const [anchorNode, setAnchorNode] = useState(null);\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const initialize = useCallback(data => {\n    setExpandedState(current => getInitialState(current, data, selectedState));\n  }, [selectedState]);\n  const toggleExpanded = useCallback(value => {\n    setExpandedState(current => ({\n      ...current,\n      [value]: !current[value]\n    }));\n  }, []);\n  const collapse = useCallback(value => {\n    setExpandedState(current => ({\n      ...current,\n      [value]: false\n    }));\n  }, []);\n  const expand = useCallback(value => {\n    setExpandedState(current => ({\n      ...current,\n      [value]: true\n    }));\n  }, []);\n  const expandAllNodes = useCallback(() => {\n    setExpandedState(current => {\n      const next = {\n        ...current\n      };\n      Object.keys(next).forEach(key => {\n        next[key] = true;\n      });\n      return next;\n    });\n  }, []);\n  const collapseAllNodes = useCallback(() => {\n    setExpandedState(current => {\n      const next = {\n        ...current\n      };\n      Object.keys(next).forEach(key => {\n        next[key] = false;\n      });\n      return next;\n    });\n  }, []);\n  const toggleSelected = useCallback(value => setSelectedState(current => {\n    if (!multiple) {\n      if (current.includes(value)) {\n        setAnchorNode(null);\n        return [];\n      }\n      setAnchorNode(value);\n      return [value];\n    }\n    if (current.includes(value)) {\n      setAnchorNode(null);\n      return current.filter(item => item !== value);\n    }\n    setAnchorNode(value);\n    return [...current, value];\n  }), []);\n  const select = useCallback(value => {\n    setAnchorNode(value);\n    setSelectedState(current => multiple ? current.includes(value) ? current : [...current, value] : [value]);\n  }, []);\n  const deselect = useCallback(value => {\n    anchorNode === value && setAnchorNode(null);\n    setSelectedState(current => current.filter(item => item !== value));\n  }, []);\n  const clearSelected = useCallback(() => {\n    setSelectedState([]);\n    setAnchorNode(null);\n  }, []);\n  return {\n    multiple,\n    expandedState,\n    selectedState,\n    anchorNode,\n    initialize,\n    toggleExpanded,\n    collapse,\n    expand,\n    expandAllNodes,\n    collapseAllNodes,\n    setExpandedState,\n    toggleSelected,\n    select,\n    deselect,\n    clearSelected,\n    setSelectedState,\n    hoveredNode,\n    setHoveredNode\n  };\n}\nexport { useTree };","map":{"version":3,"names":["getInitialState","initialState","data","value","acc","forEach","node","Array","isArray","children","useTree","initialSelectedState","initialExpandedState","multiple","expandedState","setExpandedState","useState","selectedState","setSelectedState","anchorNode","setAnchorNode","hoveredNode","setHoveredNode","initialize","useCallback","current","toggleExpanded","collapse","expand","expandAllNodes","next","Object","keys","key","collapseAllNodes","toggleSelected","includes","filter","item","select","deselect","clearSelected"],"sources":["/home/paulo/Documentos/UrubuDoPixInvestimentos/front/my-app2/node_modules/@mantine/core/src/components/Tree/use-tree.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport type { TreeNodeData } from './Tree';\n\nexport type TreeExpandedState = Record<string, boolean>;\n\nfunction getInitialState(\n  initialState: TreeExpandedState,\n  data: TreeNodeData[],\n  value: string | string[] | undefined,\n  acc: TreeExpandedState = {}\n) {\n  data.forEach((node) => {\n    acc[node.value] = node.value in initialState ? initialState[node.value] : node.value === value;\n\n    if (Array.isArray(node.children)) {\n      getInitialState(initialState, node.children, value, acc);\n    }\n  });\n\n  return acc;\n}\n\nexport interface UseTreeInput {\n  /** Initial expanded state of all nodes */\n  initialExpandedState?: TreeExpandedState;\n\n  /** Initial selected state of nodes */\n  initialSelectedState?: string[];\n\n  /** Determines whether multiple node can be selected at a time */\n  multiple?: boolean;\n}\n\nexport interface UseTreeReturnType {\n  /** Determines whether multiple node can be selected at a time */\n  multiple: boolean;\n\n  /** A record of `node.value` and boolean values that represent nodes expanded state */\n  expandedState: TreeExpandedState;\n\n  /** An array of selected nodes values */\n  selectedState: string[];\n\n  /** A value of the node that was last clicked\n   * Anchor node is used to determine range of selected nodes for multiple selection\n   */\n  anchorNode: string | null;\n\n  /** Initializes tree state based on provided data, called automatically by the Tree component */\n  initialize: (data: TreeNodeData[]) => void;\n\n  /** Toggles expanded state of the node with provided value */\n  toggleExpanded: (value: string) => void;\n\n  /** Collapses node with provided value */\n  collapse: (value: string) => void;\n\n  /** Expands node with provided value */\n  expand: (value: string) => void;\n\n  /** Expands all nodes */\n  expandAllNodes: () => void;\n\n  /** Collapses all nodes */\n  collapseAllNodes: () => void;\n\n  /** Sets expanded state */\n  setExpandedState: React.Dispatch<React.SetStateAction<TreeExpandedState>>;\n\n  /** Toggles selected state of the node with provided value */\n  toggleSelected: (value: string) => void;\n\n  /** Selects node with provided value */\n  select: (value: string) => void;\n\n  /** Deselects node with provided value */\n  deselect: (value: string) => void;\n\n  /** Clears selected state */\n  clearSelected: () => void;\n\n  /** Sets selected state */\n  setSelectedState: React.Dispatch<React.SetStateAction<string[]>>;\n\n  /** A value of the node that is currently hovered */\n  hoveredNode: string | null;\n\n  /** Sets hovered node */\n  setHoveredNode: React.Dispatch<React.SetStateAction<string | null>>;\n}\n\nexport function useTree({\n  initialSelectedState = [],\n  initialExpandedState = {},\n  multiple = false,\n}: UseTreeInput = {}): UseTreeReturnType {\n  const [expandedState, setExpandedState] = useState(initialExpandedState);\n  const [selectedState, setSelectedState] = useState(initialSelectedState);\n  const [anchorNode, setAnchorNode] = useState<string | null>(null);\n  const [hoveredNode, setHoveredNode] = useState<string | null>(null);\n\n  const initialize = useCallback(\n    (data: TreeNodeData[]) => {\n      setExpandedState((current) => getInitialState(current, data, selectedState));\n    },\n    [selectedState]\n  );\n\n  const toggleExpanded = useCallback((value: string) => {\n    setExpandedState((current) => ({ ...current, [value]: !current[value] }));\n  }, []);\n\n  const collapse = useCallback((value: string) => {\n    setExpandedState((current) => ({ ...current, [value]: false }));\n  }, []);\n\n  const expand = useCallback((value: string) => {\n    setExpandedState((current) => ({ ...current, [value]: true }));\n  }, []);\n\n  const expandAllNodes = useCallback(() => {\n    setExpandedState((current) => {\n      const next = { ...current };\n      Object.keys(next).forEach((key) => {\n        next[key] = true;\n      });\n\n      return next;\n    });\n  }, []);\n\n  const collapseAllNodes = useCallback(() => {\n    setExpandedState((current) => {\n      const next = { ...current };\n      Object.keys(next).forEach((key) => {\n        next[key] = false;\n      });\n\n      return next;\n    });\n  }, []);\n\n  const toggleSelected = useCallback(\n    (value: string) =>\n      setSelectedState((current) => {\n        if (!multiple) {\n          if (current.includes(value)) {\n            setAnchorNode(null);\n            return [];\n          }\n\n          setAnchorNode(value);\n          return [value];\n        }\n\n        if (current.includes(value)) {\n          setAnchorNode(null);\n          return current.filter((item) => item !== value);\n        }\n\n        setAnchorNode(value);\n\n        return [...current, value];\n      }),\n    []\n  );\n\n  const select = useCallback((value: string) => {\n    setAnchorNode(value);\n    setSelectedState((current) =>\n      multiple ? (current.includes(value) ? current : [...current, value]) : [value]\n    );\n  }, []);\n\n  const deselect = useCallback((value: string) => {\n    anchorNode === value && setAnchorNode(null);\n    setSelectedState((current) => current.filter((item) => item !== value));\n  }, []);\n\n  const clearSelected = useCallback(() => {\n    setSelectedState([]);\n    setAnchorNode(null);\n  }, []);\n\n  return {\n    multiple,\n    expandedState,\n    selectedState,\n    anchorNode,\n    initialize,\n\n    toggleExpanded,\n    collapse,\n    expand,\n    expandAllNodes,\n    collapseAllNodes,\n    setExpandedState,\n\n    toggleSelected,\n    select,\n    deselect,\n    clearSelected,\n    setSelectedState,\n\n    hoveredNode,\n    setHoveredNode,\n  };\n}\n\nexport type TreeController = ReturnType<typeof useTree>;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}